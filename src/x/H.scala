package x

object H extends App {

  def order = {

    val h = """Prv 3/Př 4 (Tereza) ----> 1174272.........................................
              |Prv 3 (Tereza) ----> 4063968...........
              |Aj 4/5 (Martina) ----> 1128288...................................................................
              |Prv 2 (Gita) ----> 6693120..
              |Vo 6/7 (Lucka) ----> 204498..
              |Rv 8/9 (Eva) ----> 170838................
              |Pč 3/5 (Eva) ----> 1586568.............................................
              |Spv 8 (Eva) ----> 4506048..
              |Pč 6/7 (Eva) ----> 212988..........................
              |Hv 2/4 (Gita) ----> 2655450.
              |Vv 6/7 (Tereza) ----> 29670
              |Hv 8/9 (Hana) ----> 66312..
              |Pč 8/9 (Eva) ----> 170838............................................
              |Vv 4 (Tereza) ----> 4413552........................................
              |Vv 5 (Martina) ----> 3949008..
              |Hv 6/7 (Hana) ----> 204498....................................................
              |SPV 9 (Bohunka) ----> 5185464....
              |Hv 3/5 (Tereza) ----> 482940....
              |Vv 2/4 (Tereza) ----> 377190............................................................................
              |Rj 7 (Iva) ----> 7618608..
              |Vo 8/9 (Eva) ----> 170838...........................
              |Pč 2/4 (Gita) ----> 2655450..............................
              |Rv 7 (Lucka) ----> 3033984..................................
              |Vv 3/5 (Martina) ----> 3432684.................
              |Inf 5/6 (Eva) ----> 1697808.
              |Vv 8/9 (Tereza) ----> 18930
              |Aj 8/9 (Tereza) ----> 18930
              |Z 8/9 (Hana) ----> 66312.
              |Aj 6/7 (Tereza) ----> 29670.
              |F/M 8/9 (Alena) ----> 91302.
              |M/F 8/9 (Alena) ----> 91302
              |M 8/9 (Alena) ----> 91302..
              |Př 8/9 (Lucka) ----> 114396.
              |Ch 8/9 (Lucka) ----> 114396..
              |Čj 8/9 (Bohunka) ----> 206904..
              |M 6/7 (Alena) ----> 203388..
              |F/M 6/7 (Alena) ----> 203388..
              |M/F 6/7 (Alena) ----> 203388..
              |Př 6/7 (Lucka) ----> 204498..
              |Z 6/7 (Hana) ----> 204498..
              |Čj 6/7 (Hana) ----> 204498..
              |D 6/7 (Hana) ----> 204498.....
              |Aj 8 (Tereza) ----> 497040.....
              |Aj 9 (Tereza) ----> 466200...............
              |Z 8 (Hana) ----> 1485792..............
              |D 8 (Hana) ----> 1485792..............
              |D 9 (Hana) ----> 1399080..............
              |Z 9 (Hana) ----> 1399080........
              |Aj 6 (Tereza) ----> 724080.....
              |Aj 7 (Tereza) ----> 546720....................
              |F 8 (Alena) ----> 2005728...................
              |F 9 (Alena) ----> 1894752...................
              |M 9 (Alena) ----> 1894752....................
              |M 8 (Alena) ----> 2005728.........................
              |Př 8 (Lucka) ----> 2480904.........................
              |Ch 8 (Lucka) ----> 2480904.......................
              |Př 9 (Lucka) ----> 2354304........................
              |Ch 9 (Lucka) ----> 2354304...................
              |Z 7 (Hana) ----> 1922304...................
              |Čj 7 (Hana) ----> 1922304...................................
              |D 6 (Hana) ----> 3480960...................
              |D 7 (Hana) ----> 1922304...................................
              |Z 6 (Hana) ----> 3480960...................................
              |Čj 6 (Hana) ----> 3480960........................................
              |F 6 (Alena) ----> 4014816........................................
              |M 6 (Alena) ----> 4014816.........................
              |M 7 (Alena) ----> 2465496.........................
              |F 7 (Alena) ----> 2465496......................
              |Vl 4/5 (Tereza) ----> 2256576............................................
              |Vl 4 (Tereza) ----> 4413552.........................................
              |Př 6 (Lucka) ----> 4036800..............................
              |Př 7 (Lucka) ----> 3033984..................................
              |M 3/5 (Martina) ----> 3432684...................................
              |Čj 3/5 (Martina) ----> 3432684..........................
              |Prv/Př  2/4 (Gita) ----> 2655450...........................
              |Čj 2/4 (Gita) ----> 2655450..........................
              |M 2/4 (Gita) ----> 2655450....................................................
              |Čj 9 (Bohunka) ----> 5185464...................................
              |Inf 9 (Eva) ----> 3514680..........................................
              |Čj 8 (Bohunka) ----> 4194096.............................................
              |Inf 8 (Eva) ----> 4506048...................................................................
              |Čj 2 (Gita) ----> 6693120...............................................
              |Čj 3 (Martina) ----> 4717440................................................
              |Aj 3 (Martina) ----> 4717440........................................................
              |Vl 5 (Tereza) ----> 5641440
    """.stripMargin

    val order: List[(String, Int)] = """(.*) ----> (\d+).*""".r.findAllIn(h).matchData.map(mch => {
      (mch.group(1), mch.group(2).toInt)
    }).toList.sortWith((f, s) => f._2 <= s._2)

    order
  }

  println(order.mkString("\n"))

}

class HOrder(tiles:Seq[Tile],h:List[(String,Int)]) {

  val order = {
    val aux = new Array[Int](1000)
    (1 to 1000).foreach(i => aux(i-1) = 1000)
    h.foreach(pair => {
      val aux2 = tiles.filter(t => pair._1.contains(t.job.classHour.subject) && pair._1.contains(t.job.teacher.name))
      aux2.foreach(t => aux(t.id) = pair._2)
    })
    aux
  }

  def precedes(t1:Tile,t2:Tile) = {
    order(t1.id) < order(t2.id)
  }
}
